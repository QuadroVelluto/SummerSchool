root@eltex-practice2-pg1-v11:~# START=$(date -d "$(uptime -s)" +%s)
root@eltex-practice2-pg1-v11:~# END=$((START + 20))

root@eltex-practice2-pg1-v11:~# journalctl -b --since "$(date -d "@$START" "+%F %T")" --until "$(date -d "@$END" "+%F %T")" > joournalctl_20sec

root@eltex-practice2-pg1-v11:~# find /var/log -name 'auth.log' -exec awk '{for(i=3; i<=NF; i++) printf "%s ", $i; print ""}' {} \; | sed 's/\[[0-9]*\]//g' | sort > auth_sorted

root@eltex-practice2-pg1-v11:~# awk '{print $1}' auth_sorted | uniq -c | sort -nr
    220 CRON:
    160 su:
     11 sshd:
      6 systemd-logind:
      5 sudo:
      3 chage:
      2 nologin:

root@eltex-practice2-pg1-v11:~# awk -F: '$7 == "/usr/sbin/nologin" {print $1, $3}' /etc/passwd | while read username uid; do     groups=$(grep -o '\([^:]*\)' /etc/group | grep -w $username | cut -d: -f1 | paste -sd, -);     echo "$uid, $username, $groups"; done | sort -r -n -k1 > nologin_sorted

root@eltex-practice2-pg1-v11:~# dmesg | grep -i kernel
[    0.000000] KERNEL supported cpus:
[    0.069858] Booting paravirtualized kernel on KVM
[    0.071498] Kernel command line: BOOT_IMAGE=/vmlinuz-6.8.0-55-generic root=/dev/mapper/ubuntu--vg-ubuntu--lv ro
[    0.071559] Unknown kernel command line parameters "BOOT_IMAGE=/vmlinuz-6.8.0-55-generic", will be passed to user space.
[    0.165145] Memory: 3933488K/4193760K available (22528K kernel code, 4443K rwdata, 14344K rodata, 4988K init, 4716K bss, 260012K reserved, 0K cma-reserved)
[    0.349366] DMA: preallocated 512 KiB GFP_KERNEL pool for atomic allocations
[    0.349415] DMA: preallocated 512 KiB GFP_KERNEL|GFP_DMA pool for atomic allocations
[    0.349460] DMA: preallocated 512 KiB GFP_KERNEL|GFP_DMA32 pool for atomic allocations
[    0.877270] Loaded X.509 cert 'Build time autogenerated kernel key: e0bedf6fa049a1e09bd65ebab3904f14cdd5bc68'
[    0.884032] Loaded X.509 cert 'Canonical Ltd. Kernel Module Signing: 88f752e560a1e0737e31163a466ad7b70a850c19'
[    0.973543] Loaded X.509 cert 'Build time autogenerated kernel key: e0bedf6fa049a1e09bd65ebab3904f14cdd5bc68'
[    1.008995] Freeing unused kernel image (initmem) memory: 4988K
[    1.010276] Write protecting the kernel read-only data: 38912k
[    1.011640] Freeing unused kernel image (rodata/data gap) memory: 2040K
[    6.516114] systemd[1]: Listening on systemd-udevd-kernel.socket - udev Kernel Socket.
[    6.538718] systemd[1]: Mounting sys-kernel-debug.mount - Kernel Debug File System...
[    6.543605] systemd[1]: Mounting sys-kernel-tracing.mount - Kernel Trace File System...
[    6.665650] systemd[1]: Starting modprobe@configfs.service - Load Kernel Module configfs...
[    6.695705] systemd[1]: Starting modprobe@dm_mod.service - Load Kernel Module dm_mod...
[    6.738131] systemd[1]: Starting modprobe@drm.service - Load Kernel Module drm...
[    6.781704] systemd[1]: Starting modprobe@efi_pstore.service - Load Kernel Module efi_pstore...
[    6.841998] systemd[1]: Starting modprobe@fuse.service - Load Kernel Module fuse...
[    6.889959] systemd[1]: Starting modprobe@loop.service - Load Kernel Module loop...
[    6.932112] systemd[1]: Starting systemd-modules-load.service - Load Kernel Modules...
[    7.001164] systemd[1]: Starting systemd-remount-fs.service - Remount Root and Kernel File Systems...

root@eltex-practice2-pg1-v11:~# cat /var/log/kern.log | wc -l
0

root@eltex-practice2-pg1-v11:~# awk 'BEGIN {FS=": "; OFS=" ; "}
/Commandline/ {cmd=$2}
/Start-Date/ {start=$2}
/End-Date/ {end=$2; print "Commandline: " cmd, "Start-Date: " start, "End-Date: " end}' /var/log/apt/history.log > history_log_formated


